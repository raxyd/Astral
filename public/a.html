<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apps</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" href="imgs/logo/logo.png" type="image/png">
</head>
<body>
    <div id="particles-js"></div>
    <div id="gameCounter" style="position: absolute; top: 10px; left: 10px; background-color: rgba(0, 0, 0, 0.5); color: white; padding: 5px; border-radius: 5px;">
        Total Apps: <span id="gameCount">0</span>
    </div>
    <h1></h1>
    <h1></h1>
    <h1></h1>
    <h1></h1>
    <h1>Apps</h1>
    <script src="js/cool.js"></script>
    <a href="/"><button class="rounded-button">Home âŒ‚</button></a>
    <input type="text" id="searchInput" placeholder="Search for a game..." onkeyup="searchGames()">
    <div class="games-container" id="gamesContainer">
            <div class="game-button">
                <a href="/vn/ontop/hvtrs8%2F-wuw%2Ccpaxyeaoeq.aoo%2F">
                    <img src="imgs/logo/crazygames.jpg" alt="Game 1 Cover">
                </a>
            </div>
            <div class="game-button">
                <a href="/vn/ontop/hvtrs8%2F-dksaopd%2Ccmm-">
                    <img src="imgs/logo/discord.png" alt="Game 1 Cover">
                </a>
            </div>
            <div class="game-button">
                <a href="/vn/ontop/hvtrs8%2F-wuw%2Cgmoelg.aoo%2F%3Dgus%5Drf%3Dqsn">
                    <img src="imgs/logo/google.png" alt="Game 1 Cover">
                </a>
            </div>
            <div class="game-button">
                <a href="/vn/ontop/hvtrs8%2F-vqcmdg.fet%2F">
                    <img src="imgs/logo/visualstudiocode.jpg" alt="Game 1 Cover">
                </a>
            </div>
            <div id="particles-js"></div>
    </div>
    <script src="js/cool.js"></script>  
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/quests.js"></script>

<script>
    function applySavedTheme() {
        const theme = localStorage.getItem('theme') || 'default';
        document.body.className = theme + "-theme";
        
        document.querySelectorAll('.rounded-button').forEach(button => {
            button.className = 'rounded-button ' + theme + '-theme';
        });
        document.querySelectorAll('input[type="range"]').forEach(range => {
            range.className = theme + '-theme';
        });
        document.querySelectorAll('select').forEach(select => {
            select.className = theme + '-theme';
        });
    }

    document.addEventListener('DOMContentLoaded', applySavedTheme);
</script> 

<script>
    document.addEventListener('DOMContentLoaded', () => {
    const gamesContainer = document.getElementById('gamesContainer');
    const games = Array.from(gamesContainer.getElementsByClassName('game-button'));

    games.sort((a, b) => {
        const srcA = a.querySelector('img').getAttribute('src').toLowerCase();
        const srcB = b.querySelector('img').getAttribute('src').toLowerCase();
        return srcA.localeCompare(srcB);
    });

    gamesContainer.innerHTML = '';

    games.forEach(game => gamesContainer.appendChild(game));
});

</script>

<script>
    document.addEventListener('keydown', function(event) {
        if (event.altKey && event.key === 'h') {
            window.location.href = '/';
        }
    });


    function searchGames() {
        const input = document.getElementById('searchInput');
        const filter = input.value.toLowerCase();
        const gamesContainer = document.getElementById('gamesContainer');
        const games = gamesContainer.getElementsByClassName('game-button');
        var shownGames = 0;
        for (let i = 0; i < games.length; i++) {
            const game = games[i];
            const link = game.getElementsByTagName('a')[0];
            const href = link.getAttribute('href').toLowerCase();

            if (href.includes(filter)) {
                game.style.display = "";
                shownGames++;
            } else {
                game.style.display = "none";
            }
        }
            if(shownGames <= 15){
                document.querySelectorAll("h1")[0].style.display = "none";
            } else{
                document.querySelectorAll("h1")[0].style.display = "";
            }
            if(shownGames <= 10){
                document.querySelectorAll("h1")[1].style.display = "none";
            } else{
                document.querySelectorAll("h1")[1].style.display = "";
            }
    }

    document.querySelectorAll('.game-button').forEach(button => {
    button.addEventListener('mousemove', (e) => {
        const rect = button.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        const deltaX = (x - centerX) / centerX; 
        const deltaY = (y - centerY) / centerY; 
        const rotateX = deltaY * 10; 
        const rotateY = -deltaX * 10;

        button.querySelector('img').style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    button.addEventListener('mouseleave', () => {
        button.querySelector('img').style.transform = 'rotateX(0deg) rotateY(0deg) scale(1)';
    });
});

</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const gamesContainer = document.getElementById('gamesContainer');
        const games = Array.from(gamesContainer.getElementsByClassName('game-button'));
        
        // Update Game Counter
        const gameCounter = document.getElementById('gameCount');
        gameCounter.textContent = games.length;

        games.sort((a, b) => {
            const srcA = a.querySelector('img').getAttribute('src').toLowerCase();
            const srcB = b.querySelector('img').getAttribute('src').toLowerCase();
            return srcA.localeCompare(srcB);
        });

        gamesContainer.innerHTML = '';

        games.forEach(game => gamesContainer.appendChild(game));
    });

    function searchGames() {
        const input = document.getElementById('searchInput');
        const filter = input.value.toLowerCase();
        const gamesContainer = document.getElementById('gamesContainer');
        const games = gamesContainer.getElementsByClassName('game-button');
        let count = 0;

        for (let i = 0; i < games.length; i++) {
            const game = games[i];
            const link = game.getElementsByTagName('a')[0];
            const href = link.getAttribute('href').toLowerCase();

            if (href.includes(filter)) {
                game.style.display = "";
                count++;
            } else {
                game.style.display = "none";
            }
        }

        // Update Game Counter
        const gameCounter = document.getElementById('gameCount');
        gameCounter.textContent = count;
    }
</script>
</body>
</html>